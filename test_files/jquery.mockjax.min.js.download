(function(e){function s(t){if(window["DOMParser"]==undefined&&window.ActiveXObject){DOMParser=function(){};DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e);return t}}try{var n=(new DOMParser).parseFromString(t,"text/xml");if(e.isXMLDoc(n)){var r=e("parsererror",n);if(r.length==1){throw"Error: "+e(n).text()}}else{throw"Unable to parse XML"}}catch(i){var s=i.name==undefined?i:i.name+": "+i.message;e(document).trigger("xmlParseError",[s]);return undefined}return n}function o(t,n,r){(t.context?e(t.context):e.event).trigger(n,r)}function u(t,n){var r=false;if(typeof n==="string"){return e.isFunction(t.test)?t.test(n):t==n}e.each(t,function(i,s){if(n[i]===undefined){r=false;return r}else{r=true;if(typeof n[i]=="object"){return u(t[i],n[i])}else{if(e.isFunction(t[i].test)){r=t[i].test(n[i])}else{r=t[i]==n[i]}return r}}});return r}function a(t,n){if(e.isFunction(t)){return t(n)}if(e.isFunction(t.url.test)){if(!t.url.test(n.url)){return null}}else{var r=t.url.indexOf("*");if(t.url!==n.url&&r===-1||!(new RegExp(t.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace("*",".+"))).test(n.url)){return null}}if(t.data&&n.data){if(!u(t.data,n.data)){return null}}if(t&&t.type&&t.type.toLowerCase()!=n.type.toLowerCase()){return null}return t}function f(t,n){var r=e.extend({},e.mockjaxSettings,t);if(r.log&&e.isFunction(r.log)){r.log("MOCK "+n.type.toUpperCase()+": "+n.url,e.extend({},n))}}function l(n,r,i){var o=function(t){return function(){return function(){this.status=n.status;this.statusText=n.statusText;this.readyState=4;if(e.isFunction(n.response)){n.response(i)}if(r.dataType=="json"&&typeof n.responseText=="object"){this.responseText=JSON.stringify(n.responseText)}else if(r.dataType=="xml"){if(typeof n.responseXML=="string"){this.responseXML=s(n.responseXML)}else{this.responseXML=n.responseXML}}else{this.responseText=n.responseText}if(typeof n.status=="number"||typeof n.status=="string"){this.status=n.status}if(typeof n.statusText==="string"){this.statusText=n.statusText}if(e.isFunction(this.onreadystatechange)){if(n.isTimeout){this.status=-1}this.onreadystatechange(n.isTimeout?"timeout":undefined)}else if(n.isTimeout){this.status=-1}}.apply(t)}}(this);if(n.proxy){t({global:false,url:n.proxy,type:n.proxyType,data:n.data,dataType:r.dataType==="script"?"text/plain":r.dataType,complete:function(e,t){n.responseXML=e.responseXML;n.responseText=e.responseText;n.status=e.status;n.statusText=e.statusText;this.responseTimer=setTimeout(o,n.responseTime||0)}})}else{if(r.async===false){o()}else{this.responseTimer=setTimeout(o,n.responseTime||50)}}}function c(t,n,r,i){t=e.extend(true,{},e.mockjaxSettings,t);if(typeof t.headers==="undefined"){t.headers={}}if(t.contentType){t.headers["content-type"]=t.contentType}return{status:t.status,statusText:t.statusText,readyState:1,open:function(){},send:function(){i.fired=true;l.call(this,t,n,r)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(e,n){t.headers[e]=n},getResponseHeader:function(e){if(t.headers&&t.headers[e]){return t.headers[e]}else if(e.toLowerCase()=="last-modified"){return t.lastModified||(new Date).toString()}else if(e.toLowerCase()=="etag"){return t.etag||""}else if(e.toLowerCase()=="content-type"){return t.contentType||"text/plain"}},getAllResponseHeaders:function(){var n="";e.each(t.headers,function(e,t){n+=e+": "+t+"\n"});return n}}}function h(e,t,n){p(e);e.dataType="json";if(e.data&&r.test(e.data)||r.test(e.url)){v(e,t);var i=/^(\w+:)?\/\/([^\/?#]+)/,s=i.exec(e.url),o=s&&(s[1]&&s[1]!==location.protocol||s[2]!==location.host);e.dataType="script";if(e.type.toUpperCase()==="GET"&&o){var u=d(e,t,n);if(u){return u}else{return true}}}return null}function p(e){if(e.type.toUpperCase()==="GET"){if(!r.test(e.url)){e.url+=(/\?/.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?"}}else if(!e.data||!r.test(e.data)){e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?"}}function d(t,n,r){var i=r&&r.context||t,s=null;if(n.response&&e.isFunction(n.response)){n.response(r)}else{if(typeof n.responseText==="object"){e.globalEval("("+JSON.stringify(n.responseText)+")")}else{e.globalEval("("+n.responseText+")")}}m(t,n);g(t,n);if(e.Deferred){s=new e.Deferred;if(typeof n.responseText=="object"){s.resolveWith(i,[n.responseText])}else{s.resolveWith(i,[e.parseJSON(n.responseText)])}}return s}function v(e,t){jsonp=e.jsonpCallback||"jsonp"+i++;if(e.data){e.data=(e.data+"").replace(r,"="+jsonp+"$1")}e.url=e.url.replace(r,"="+jsonp+"$1");window[jsonp]=window[jsonp]||function(n){data=n;m(e,t);g(e,t);window[jsonp]=undefined;try{delete window[jsonp]}catch(r){}if(head){head.removeChild(script)}}}function m(e,t){if(e.success){e.success.call(callbackContext,t.response?t.response.toString():t.responseText||"",status,{})}if(e.global){o(e,"ajaxSuccess",[{},e])}}function g(t,n){if(t.complete){t.complete.call(callbackContext,{},status)}if(t.global){o("ajaxComplete",[{},t])}if(t.global&&!--e.active){e.event.trigger("ajaxStop")}}function y(r,i){var s,o,u;if(typeof r==="object"){i=r;r=undefined}else{i.url=r}o=e.extend(true,{},e.ajaxSettings,i);for(var l=0;l<n.length;l++){if(!n[l]){continue}u=a(n[l],o);if(!u){continue}f(u,o);if(o.dataType==="jsonp"){if(s=h(o,u,i)){return s}}u.cache=o.cache;u.timeout=o.timeout;u.global=o.global;b(u,i);(function(n,r,i,o){s=t.call(e,e.extend(true,{},i,{xhr:function(){return c(n,r,i,o)}}))})(u,o,i,n[l]);return s}return t.apply(e,[i])}function b(e,t){if(!e.url instanceof RegExp){return}if(!e.hasOwnProperty("urlParams")){return}var n=e.url.exec(t.url);if(n.length===1){return}n.shift();var r=0,i=n.length,s=e.urlParams.length,o=Math.min(i,s),u={};for(r;r<o;r++){var a=e.urlParams[r];u[a]=n[r]}t.urlParams=u}var t=e.ajax,n=[],r=/=\?(&|$)/,i=(new Date).getTime();e.extend({ajax:y});e.mockjaxSettings={log:function(e){if(window["console"]&&window.console.log){if(!Function.prototype.bind){console.log(Array.prototype.slice.call(arguments).join(", "));return}var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}},status:200,statusText:"OK",responseTime:500,isTimeout:false,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}};e.mockjax=function(e){var t=n.length;n[t]=e;return t};e.mockjaxClear=function(e){if(arguments.length==1){n[e]=null}else{n=[]}};e.mockjax.handler=function(e){if(arguments.length==1){return n[e]}}})(jQuery)